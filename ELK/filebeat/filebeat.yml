filebeat.modules:
- module: nginx
  access:
  enabled: true
  error:
  enabled: true

- module: system
  syslog:
  enabled: true

filebeat.prospectors:
- input_type: log
  paths:
    - /var/log/messages*
    - /var/log/syslog*
    - /var/log/*.log
  exclude_files: ["auth.log*"]
  exclude_files: [".gz$"]
  multiline:
  pattern: "^\\s"
  match: after
  document_type: syslog

- input_type: log
  paths:
    - /var/log/auth.log
  exclude_files: [".gz$"]
  multiline:
  pattern: "^\\s"
  match: after
  document_type: auth

- input_type: log
  paths:
  - /var/log/nginx/access.log  
  document_type: nginx-access

- input_type: log
  paths:
  - /var/log/nginx/error.log
  document_type: nginx-error

output:
  logstash:
    hosts: ["127.0.0.1:5044"]
  console:
    pretty: true
  shipper:
  logging:
  files: 
    path: /var/log/filebeat
    name: 
    keepfiles: 7
    rotateeverybytes: 10485760 # 10 MB
